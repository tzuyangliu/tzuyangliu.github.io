<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="imzyliu's blog" type="application/atom+xml" />






<meta name="description" content="今天入手了《 Swift for the Really Impatient 》，中文名《写给大忙人看的 Swift 》，基于 Swift 1.2 介绍了如何使用 Swift 以及利用它的优秀特性。从 Swift 1.0 发布，到现在 Swift 2.0 马上面世（*），笔者使用 Swift 的思路还停留在跟使用 Objective-C 一样的层次——换句话说，没怎么用到过 Swift 新的特性。蛮">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift 学习笔记">
<meta property="og:url" content="http://tzuyangliu.github.io/2015/08/07/swift-for-the-really-impatient-note/index.html">
<meta property="og:site_name" content="imzyliu&#39;s blog">
<meta property="og:description" content="今天入手了《 Swift for the Really Impatient 》，中文名《写给大忙人看的 Swift 》，基于 Swift 1.2 介绍了如何使用 Swift 以及利用它的优秀特性。从 Swift 1.0 发布，到现在 Swift 2.0 马上面世（*），笔者使用 Swift 的思路还停留在跟使用 Objective-C 一样的层次——换句话说，没怎么用到过 Swift 新的特性。蛮">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://7xkkiq.com1.z0.glb.clouddn.com/Swift-for-the-really-impatient.jpg">
<meta property="og:updated_time" content="2017-01-23T15:58:12.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift 学习笔记">
<meta name="twitter:description" content="今天入手了《 Swift for the Really Impatient 》，中文名《写给大忙人看的 Swift 》，基于 Swift 1.2 介绍了如何使用 Swift 以及利用它的优秀特性。从 Swift 1.0 发布，到现在 Swift 2.0 马上面世（*），笔者使用 Swift 的思路还停留在跟使用 Objective-C 一样的层次——换句话说，没怎么用到过 Swift 新的特性。蛮">
<meta name="twitter:image" content="http://7xkkiq.com1.z0.glb.clouddn.com/Swift-for-the-really-impatient.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://tzuyangliu.github.io/2015/08/07/swift-for-the-really-impatient-note/"/>





  <title>Swift 学习笔记 | imzyliu's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">imzyliu's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tzuyangliu.github.io/2015/08/07/swift-for-the-really-impatient-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imzyliu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xkkiq.com1.z0.glb.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imzyliu's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Swift 学习笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-07T00:27:00+08:00">
                2015-08-07
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/07/swift-for-the-really-impatient-note/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2015/08/07/swift-for-the-really-impatient-note/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>今天入手了《 Swift for the Really Impatient 》，中文名《写给大忙人看的 Swift 》，基于 Swift 1.2 介绍了如何使用 Swift 以及利用它的优秀特性。<br>从 Swift 1.0 发布，到现在 Swift 2.0 马上面世（*），笔者使用 Swift 的思路还停留在跟使用 Objective-C 一样的层次——换句话说，没怎么用到过 Swift 新的特性。蛮喜欢这本书，顺着读的过程写下读书笔记，方便以后回顾，也可以跟大家一起分享<a id="more"></a>。</p>
<p>接下来要写的内容不会是所有Swift语法的罗列，<strong>是从 Objective-C 转到 Swift 需要了解的新特性。</strong></p>
<h3 id="第1章-Swift-介绍"><a href="#第1章-Swift-介绍" class="headerlink" title="第1章 Swift 介绍"></a>第1章 Swift 介绍</h3><h4 id="1-1-基本语法"><a href="#1-1-基本语法" class="headerlink" title="1.1 基本语法"></a>1.1 基本语法</h4><h5 id="1-1-1-变量和常量"><a href="#1-1-1-变量和常量" class="headerlink" title="1.1.1 变量和常量"></a>1.1.1 变量和常量</h5><p>在 Objective-C 中，由类型本身决定其是否可变，例如 <code>NSArray</code> 和 <code>NSMutableArray</code>；在 Swift 中，对象的可变与与不可变版本具有相同的类型，而不是子类的关系。</p>
<blockquote>
<p>Swift 的基本数据结构有：枚举（enum）、结构体（struct）和类（class）。枚举或结构体在代码中是传值的，类是传引用。</p>
</blockquote>
<p>像 <code>Int</code> 这种基本数据类型都是基于结构体实现的，所以它们可能会通过属性和方法实现一些额外的功能，这在 Objective-C 是没有的。</p>
<p>Swift 是一门强类型语言，在编译期就需要确定变量的类型；任何一个类型都不能隐式转换成另一个类型，所以要在写代码时对类型额外留意；无论是通过明确指定变量类型，如 <code>var appleCount: Int</code>，还是通过类型推断来指定变量类型，如 <code>var appleCount = 0</code>，指明类型都是必要的。</p>
<h5 id="1-1-2-字符串插值"><a href="#1-1-2-字符串插值" class="headerlink" title="1.1.2 字符串插值"></a>1.1.2 字符串插值</h5><p>下面代码就能表达清楚 Swift 的字符串插值，当然字符串插值不仅仅可以用于 <code>println()</code> 方法，任何字符串都可以。<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> appleCount = <span class="number">99</span></div><div class="line"><span class="built_in">println</span>(<span class="string">"There are <span class="subst">\(appleCount)</span> apples in your bag"</span>)</div></pre></td></tr></table></figure></p>
<h5 id="1-1-3-流程控制"><a href="#1-1-3-流程控制" class="headerlink" title="1.1.3 流程控制"></a>1.1.3 流程控制</h5><h6 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h6><p>Swift 提供了 <code>if</code> 和 <code>switch</code> 两种语法结构。</p>
<p>对于 <code>if</code>，用法跟 Objective-C 基本一致，只是条件不是必须要用括号括住了，如使用以下方法是合理的，当然加上括号也没问题。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if appleCount &gt; 0 &#123;</div><div class="line">// do something</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>对于 <code>switch</code>，跟 Objective-C 不同的是，当遇到下一个 <code>case</code> 分支开始时，<code>switch</code> 语句会自动结束。也就是说，不需要在每个 <code>case</code> 最后使用 <code>break</code> 了。当然如果需要，可以使用 <code>fallthrough</code> 关键字。下面是用法的例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var appleCount: Int = calcAppleCount()</div><div class="line">switch appleCount &#123;</div><div class="line">case 0:</div><div class="line">    println(&quot;No apple left.&quot;)</div><div class="line">case 1:</div><div class="line">    println(&quot;One apple a day, keep doctor away.&quot;)</div><div class="line">default:</div><div class="line">    println(&quot;I have \(appleCount) apples!&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h6 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h6><p><code>for</code> 循环用法与 Objective-C 相近，除了也是可以不需要括号。比较有意思的是 <code>for-in</code>，Swift 提供了两种新的区间运算符：左开右闭区间 <code>..&lt;</code>，闭区间 <code>...</code>，如下面两种用法是等价的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for i in 0 ..&lt; 10 &#123;</div><div class="line">// do something</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for i in 0 ... 9 &#123;</div><div class="line">// do something</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Swift 2 添加了 <code>.forEach</code> 方法，可以结合链式操作使用，效果与上面等同<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(0 ..&lt; 10).forEach &#123;</div><div class="line">// do something</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>跟 Objective-C 一样，可以使用 <code>break</code> 和 <code>continue</code> 控制循环。Swift 针对这一点增加了一个强大的功能：给循环语句添加标签（<code>label</code>），然后在内部循环中指定希望 <code>break</code> 或 <code>continue</code> 到哪个循环中。一个标签由名称之后跟着一个冒号构成，并且标签位于循环语句关键字之前：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var bags: [Bag] = currentBags()</div><div class="line">first: for bag in bags &#123;</div><div class="line">    second: for apple in bag.apples &#123;</div><div class="line">        if somethingHappend &#123;</div><div class="line">            break first</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="1-2-基本数据类型"><a href="#1-2-基本数据类型" class="headerlink" title="1.2 基本数据类型"></a>1.2 基本数据类型</h4><h5 id="1-2-1-整型"><a href="#1-2-1-整型" class="headerlink" title="1.2.1 整型"></a>1.2.1 整型</h5><p>之前提到，在 Swift 中像 <code>Int</code> 这些基本数据类型都是结构体，有兴趣可以去看 <code>Int</code> 的头文件。<code>Int</code> 有一些静态属性，比如 <code>min</code> 和 <code>max</code> 属性。<code>Int</code> 在 32 位设备中表现为 32 位整型，在 64 位设备中表现为 64 位整型。</p>
<p>需要特定长度的整型时，可以使用 <code>Int8</code>、<code>Int16</code>、<code>Int32</code> 或 <code>Int64</code>（无符号版本在前面加个 U 前缀即可：<code>UInt8</code>、<code>UInt16</code>、<code>UInt32</code> 或 <code>UInt64</code>）。</p>
<p>关于类型转换可以使用如下方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var a32BitInt: Int32 = 1</div><div class="line">var a64BitInt: Int64 = Int64(a32BitInt)</div></pre></td></tr></table></figure></p>
<p>但是可能会有潜在的溢出风险。比如将一个 <code>Int64.max</code> 使用 <code>Int32()</code> 方法得到的结果是溢出的，而编译器暂时还不能捕获这种情况。</p>
<blockquote>
<p>为了确保兼容性，写到文件的整型变量都应指明长度，防止出现 32 位设备保存的值被 64 位设备直接读取产生错误。</p>
</blockquote>
<h5 id="1-2-2-Double-和-Float"><a href="#1-2-2-Double-和-Float" class="headerlink" title="1.2.2 Double 和 Float"></a>1.2.2 Double 和 Float</h5><p>使用小数时，编译器类型推断默认为 <code>Double</code>。<code>Double</code> 和 <code>Float</code> 都有一些有用的属性，比如 <code>NaN</code>、<code>infinity</code> 等。</p>
<h5 id="1-2-3-布尔型"><a href="#1-2-3-布尔型" class="headerlink" title="1.2.3 布尔型"></a>1.2.3 布尔型</h5><p>Swift 使用 <code>true</code> 和 <code>false</code> 来表示是与否。只有表达式显式地返回一个布尔类型才能被用于布尔值的声明，所以在代码中不能将布尔值与 0 或 nil 隐式比较，比如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var someInteger = 0</div><div class="line">var hasSome: Bool = (someInteger != 0)</div><div class="line">// hasSome: false</div></pre></td></tr></table></figure></p>
<h5 id="1-2-4-字符串"><a href="#1-2-4-字符串" class="headerlink" title="1.2.4 字符串"></a>1.2.4 字符串</h5><p>Swift 中的字符串是 <code>String</code>，<code>String</code> 是 <code>Character</code> 类型值的集合。<br>使用 <code>+</code> 运算符可以将字符串拼接：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var prefix = &quot;123&quot;</div><div class="line">var suffix = &quot;456&quot;</div><div class="line">var fullString = prefix + suffix</div><div class="line">// fullString: &quot;123456&quot;</div></pre></td></tr></table></figure></p>
<p>也可以使用 <code>+=</code> 运算符：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var string = &quot;123&quot;</div><div class="line">var suffix = &quot;456&quot;</div><div class="line">string += suffix</div><div class="line">// string: &quot;123456&quot;</div></pre></td></tr></table></figure></p>
<p>由于 <code>String</code> 是 <code>Character</code> 的集合，可以用 <code>for-in</code> 循环语句对其进行迭代。</p>
<p>可以直接使用 <code>==</code> 来比较两个字符串值是否相同。</p>
<h5 id="1-2-5-数组"><a href="#1-2-5-数组" class="headerlink" title="1.2.5 数组"></a>1.2.5 数组</h5><p>声明数组可以使用长形式和短形式，不过既然有短形式为何还要用长形式。</p>
<p>长形式：<code>Array&lt;ValueType&gt;</code></p>
<p>短形式：<code>[ValueType]</code></p>
<p>利用短形式声明和初始化一个数组的方式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var apple: [String] = [] // 显式类型</div><div class="line">var apple = [String]()   // 隐式类型</div></pre></td></tr></table></figure></p>
<p>关于数组，得益于 Swift 基本数据类型是结构体，数组可以存储结构体，所以可以直接将基本数据类型存到数值，而 Objective-C 是不行的。存到数组中的元素，传值与传引用的性质与 Objective-C 相似。</p>
<h5 id="1-2-6-字典"><a href="#1-2-6-字典" class="headerlink" title="1.2.6 字典"></a>1.2.6 字典</h5><p>声明字典也有两种形式</p>
<p>长形式：<code>Dictionary&lt;KeyType, ValueType&gt;</code></p>
<p>短形式：<code>[KeyType: ValueType]</code></p>
<p>利用短形式声明和初始化一个字典的方式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var apple: [String: SomeClass] = [:] // 显式类型</div><div class="line">var apple = [String: SomeClass]()    // 隐式类型</div></pre></td></tr></table></figure></p>
<p>在代码中可以使用遵循 <code>Hashable</code> 协议的任意类型当做字典的 KeyType 值。</p>
<p>由于字典也是集合，可以用 <code>for-in</code> 循环语句对其进行迭代。</p>
<h3 id="第二章-深入学习-Swift-语法"><a href="#第二章-深入学习-Swift-语法" class="headerlink" title="第二章 深入学习 Swift 语法"></a>第二章 深入学习 Swift 语法</h3><p>强烈推荐之前没有用过 Swift 的同学看一下这部分。这里列举的一些很酷的特性足够让你找到充分的从 Objective-C 转到 Swift 的理由。</p>
<h4 id="2-1-可空类型"><a href="#2-1-可空类型" class="headerlink" title="2.1 可空类型"></a>2.1 可空类型</h4><p>Swift 提供了可空类型来处理变量可能为空的情况。可空类型能够安全地检查某个值是否为空，当值不为空时，才会被访问。</p>
<p>可空类型有两种不同的表达方式：<code>Some</code> 或者 <code>None</code>。值不为空时，可空类型用 <code>Optional.Some(value)</code> 表示，否则用 <code>Optional.None</code> 表示。</p>
<p>在类型后面添加一个 <code>?</code> 修饰符即可将变量声明为可空类型。例如 <code>String?</code>，任何类型都可以修饰为可空类型。访问可空类型的值必需要进行拆箱（unwrap），即在变量名后添加一个 <code>!</code>，例如<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> firstName: <span class="type">String</span>?</div><div class="line"><span class="comment">// firstName被修饰为可空类型</span></div><div class="line"><span class="keyword">let</span> fullName = <span class="string">"Sheep"</span> + firstName!</div><div class="line"><span class="comment">// 无法直接使用firstName，使用时需要进行拆箱，即使用firstName!</span></div></pre></td></tr></table></figure></p>
<p>如果对一个不存在的值强行拆箱，面临的将是崩溃：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let sheep = dict[&quot;Animal&quot;]</div><div class="line">// sheep被推断为可空类型，假设sheep不存在</div><div class="line">let sheepString = sheep!</div><div class="line">// 崩溃：不能对Optional.None进行拆箱</div></pre></td></tr></table></figure></p>
<p>可空类型让我们必须处理值可能为空的情况，而且 Swift 强制规定不允许在非可空类型（即普通的类型）中存储空值，所以非可空类型不允许为空。这跟任何地方都可能为 <code>nil</code> 的 Objective-C 是不同的。给一个非可空类型赋空值会导致编译器报错：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var name = &quot;sheep&quot;</div><div class="line">name = nil</div><div class="line">// 编译错误</div></pre></td></tr></table></figure></p>
<p>在这样的设定下，之前使用 Objective-C 几乎所有因为空值导致的问题都可以在编译期被发现并及时改正。</p>
<p>之前提到，对一个空的可空类型强制拆箱会导致崩溃。所以可空类型拆箱前需要检查是否为空：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var sheep = dict[&quot;Animal&quot;]</div><div class="line">if sheep != nil &#123;</div><div class="line">    let validSheep = sheep!</div><div class="line">    println(validSheep)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Swift 提供了一种将检查和拆箱操作合并到一个步骤的语法，即<strong>可空绑定</strong>。如上面的代码可以被可空绑定替换为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var sheep = dict[&quot;animal&quot;]</div><div class="line">if let validSheep = sheep &#123;</div><div class="line">    println(validSheep)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>关于可空类型的使用，将在后面的笔记中进一步讨论。</p>
<h4 id="2-2-泛型"><a href="#2-2-泛型" class="headerlink" title="2.2 泛型"></a>2.2 泛型</h4><p>像 Java、C# 等语言都有一个非常好用的特性：泛型。这个特性Objective-C 是在 <a href="https://github.com/tomersh/Objective-C-Generics" target="_blank" rel="external">2015 年 6 月才支持的</a>，Swift 一直支持这样的特性。我们可以使用泛型创建善于表达的、可重用的、类型安全的代码。</p>
<p>举个最简单的例子，当你实现一个取两个整型较大值的函数时：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func maxInt(a: Int, b: Int) -&gt; Int &#123;</div><div class="line">    if (a &gt; b) &#123;</div><div class="line">        return a</div><div class="line">    &#125;else&#123;</div><div class="line">        return b</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>后来你又需要取两个浮点型的较大值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func maxFloat(a: Float, b: Float) -&gt; Float &#123;</div><div class="line">    if (a &gt; b) &#123;</div><div class="line">        return a</div><div class="line">    &#125;else&#123;</div><div class="line">        return b</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果还有 <code>Double</code> 等等，就会多写很多重复的代码。而且如果逻辑改变，每个函数都要去修改，显然不是一个很好的实现。此时泛型提供了一个很好的解决方案：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">func maxValue&lt;T: Comparable&gt;(a: T, b: T) -&gt; T &#123;</div><div class="line">    if (a &gt; b) &#123;</div><div class="line">        return a</div><div class="line">    &#125;else&#123;</div><div class="line">        return b</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这样写的意思是：声明了一个名为 <code>maxValue</code> 的函数，在参数列表前的 <code>&lt;T: Comparable &gt;</code> 表明这是一个泛型函数。<code>&lt;T: Comparable&gt;</code> 告诉编译器，此函数使用一个遵循 <code>Comparable</code> 协议的泛型 <code>T</code>，当函数被调用时 <code>T</code> 将被具体的类型所替换。其实不同的类型调用会产生不同的函数，这件事情是编译器来完成的（笔者猜也有运行时的功劳吧）。</p>
<p>Swift 标准库的 <code>Array</code> 和 <code>Dictionary</code> 等类和许多函数都使用了泛型。以下是 <code>Array</code> 在标准库（Swift 1.2）中的声明：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">struct Array&lt;T&gt; : MutableCollectionType, Sliceable, _DestructorSafeContainer</div></pre></td></tr></table></figure></p>
<p>当数组创建后，数组的类型就被指定：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let animals = [&quot;WhiteSheep&quot;, &quot;BlackSheep&quot;, &quot;RedSheep&quot;]</div><div class="line">// animals: [String]</div><div class="line">animals.append(233)</div><div class="line">// 编译器错误：无法赋值，只能接受String</div></pre></td></tr></table></figure></p>
<p>所以使用泛型可以将类型造成的问题在编译期就发现并解决。</p>
<h4 id="2-3-类型声明和类型推断"><a href="#2-3-类型声明和类型推断" class="headerlink" title="2.3 类型声明和类型推断"></a>2.3 类型声明和类型推断</h4><p>之前也提到了，Swift 可以根据提供的信息来推断类型：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var dict = [&quot;animal&quot;: 233]</div><div class="line">// 编译器推断：dict: Dictionary&lt;String, Int&gt;</div></pre></td></tr></table></figure></p>
<p>但如果提供的信息不足，那么编译器也无法确定是哪种类型，这时候就需要手动指明类型了。</p>
<h4 id="2-4-函数和闭包"><a href="#2-4-函数和闭包" class="headerlink" title="2.4 函数和闭包"></a>2.4 函数和闭包</h4><p>Swift 中的闭包与 Objective-C 中的 Block 相似，使用上更加灵活。Swift 中的闭包有三种形式：全局函数、嵌套函数、闭包表达式。</p>
<h5 id="2-4-1-全局函数"><a href="#2-4-1-全局函数" class="headerlink" title="2.4.1 全局函数"></a>2.4.1 全局函数</h5><p>这是最普遍的一种闭包，直接举例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">func globalFunction() &#123;</div><div class="line">// Do something</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="2-4-2-嵌套函数"><a href="#2-4-2-嵌套函数" class="headerlink" title="2.4.2 嵌套函数"></a>2.4.2 嵌套函数</h5><p>函数可以嵌套至别的函数内部。嵌套函数无法从声明此函数上下文的外部调用，但嵌套函数可以被容器函数以返回值的形式暴露给外部。如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">func animalMaker(animal: String) -&gt; (String -&gt; String) &#123;</div><div class="line">    func animalMakeFunc(name: String) -&gt; String &#123;</div><div class="line">        return &quot;\(animal), \(name)&quot;</div><div class="line">    &#125;</div><div class="line">    return animalMakeFunc</div><div class="line">&#125;</div><div class="line">var sheepAnimal = animalMaker(&quot;Sheep&quot;)</div><div class="line">let aSheep = sheepAnimal(&quot;Timmy&quot;)</div><div class="line">println(aSheep)</div><div class="line">// &quot;Sheep, Timmy&quot;</div><div class="line">var sharkAniaml = animalMaker(&quot;Shark&quot;)</div><div class="line">let aShark = sharkAniaml(&quot;Dave&quot;)</div><div class="line">println(aShark)</div><div class="line">// &quot;Shark, Dave&quot;</div></pre></td></tr></table></figure></p>
<h5 id="2-4-3-闭包表达式"><a href="#2-4-3-闭包表达式" class="headerlink" title="2.4.3 闭包表达式"></a>2.4.3 闭包表达式</h5><p>闭包表达式提供了一种轻量级的隔离代码的方法，同时从上下文捕获值。下面是一个闭包表达式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var numbers = [1, 2, 3]</div><div class="line">var squares = numbers.map(&#123;(num: Int) -&gt; Int in</div><div class="line">    return num * num</div><div class="line">&#125;)</div><div class="line">// squares = [1, 4, 9]</div></pre></td></tr></table></figure></p>
<p>可以看出，闭包表达式使用了和全局函数及嵌套函数类似的语法。在一对大括号间，我们定义了一个参数列表，一个返回类型，一个<code>in</code>关键字，以及闭包中所包含的Swift语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123; (parameters) -&gt; return type in</div><div class="line">    statements</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>更多细节将在后面的读书笔记完成后，在此开传送门</p>
<h4 id="2-5-元组"><a href="#2-5-元组" class="headerlink" title="2.5 元组"></a>2.5 元组</h4><p>Swift 中的元组是我刚开始接触这门语言就知道的数据结构，可以把多个值结合成一个单个的对象。当时惊呼好爽，这意味着可以抛弃那些单纯为了数据存储而写的类，灵活自由，而且类型安全。</p>
<p>创建一个元组：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let animal = (&quot;sheep&quot;, &quot;male&quot;, 21)</div><div class="line">// animal: (String, String, Int)</div></pre></td></tr></table></figure></p>
<p>访问元组的成员，有几种方式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">println(&quot;\(animal.0), \(animal.1), \(animal.2)&quot;)</div><div class="line">// 输出：&quot;sheep, male, 21&quot;</div><div class="line">// 或</div><div class="line">let (name, sex, age) = animal</div><div class="line">println(&quot;\(name), \(sex), \(age)&quot;)</div><div class="line">// 输出：&quot;sheep, male, 21&quot;</div></pre></td></tr></table></figure></p>
<p>创建元组时也可以直接给成员命名以方便访问：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let sheep = (name: &quot;sheep&quot;, sex: &quot;male&quot;, age: 21)</div><div class="line">println(&quot;\(sheep.name), \(sheep.sex), \(sheep.age)&quot;)</div><div class="line">// 输出：&quot;sheep, male, 21&quot;</div></pre></td></tr></table></figure></p>
<p>可以将函数的返回值声明为元组：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">func numberCounts(nums: [Int]) -&gt; (Int, Int) &#123;</div><div class="line">    var evenCount = 0</div><div class="line">    var oddCount = 0</div><div class="line">    for number in nums &#123;</div><div class="line">        if number % 2 == 0 &#123;</div><div class="line">            evenCount += 1</div><div class="line">        &#125;</div><div class="line">        else &#123;</div><div class="line">            oddCount += 1</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    return (evenCount, oddCount)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这是一个统计奇偶数数量的函数，返回值是个元组，可以这样使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let numbers = [1, 2, 3, 4, 5, 6]</div><div class="line">let counts = numberCounts(numbers)</div><div class="line">// counts = (3, 3)</div></pre></td></tr></table></figure></p>
<p>如果不需要元组中的某个值，可以使用下划线 <code>_</code> 替代，这样在分解时，编译器会忽略该值。例如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let sheep = (&quot;sheep&quot;, &quot;male&quot;, 21)</div><div class="line">let (_, sex, _) = sheep</div><div class="line">println(&quot;\(sex)&quot;)</div><div class="line">// 输出：male</div></pre></td></tr></table></figure></p>
<p>元组提供了一种轻量级的、灵活的数据建模方式，在使用上更加简单，数据结构的阐述更加自然。</p>
<h4 id="2-6-switch-语句和模式匹配"><a href="#2-6-switch-语句和模式匹配" class="headerlink" title="2.6 switch 语句和模式匹配"></a>2.6 switch 语句和模式匹配</h4><p>Swift 的 <code>switch</code> 语句与 Objective-C 相比，更加强大、灵活和安全，可以利用模式匹配提供更加灵活的代码。另外，之前提到过，为了减少不必要的错误，<code>case</code> 语句不再提供自动贯穿的功能，而且所有可能的值都必须在 <code>case</code> 语句中列出。</p>
<p><code>case</code> 语句可以匹配值、范围、模式并进行值绑定：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">let httpStatusCode = 404</div><div class="line"></div><div class="line">switch httpStatusCode &#123;</div><div class="line">case 100...199:</div><div class="line">    println(&quot;information status&quot;)</div><div class="line">case 200...299:</div><div class="line">    println(&quot;success status&quot;)</div><div class="line">case 300...399:</div><div class="line">    println(&quot;redirection status&quot;)</div><div class="line">case 400...499:</div><div class="line">    println(&quot;client error status&quot;)</div><div class="line">case 500...599:</div><div class="line">    println(&quot;server error status&quot;)</div><div class="line">default:</div><div class="line">    println(&quot;not a valid code&quot;)</div><div class="line">&#125;</div><div class="line">// 输出：&quot;client error status&quot;</div></pre></td></tr></table></figure></p>
<p><code>switch</code> 语句可以与元组结合：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">let animal = (name:&quot;sheep&quot;, sex:&quot;male&quot;, age:21)</div><div class="line"></div><div class="line">switch animal &#123;</div><div class="line">case (&quot;sheep&quot;, _, _):</div><div class="line">    println(&quot;I like sheep, it&apos;s a cool animal&quot;)</div><div class="line">case (_, _, 21):</div><div class="line">    println(&quot;This animal has same age with me&quot;)</div><div class="line">case (_, &quot;female&quot;, 0...18):</div><div class="line">    println(&quot;It&apos;s a young lady&quot;)</div><div class="line">default:</div><div class="line">    println(&quot;\(animal.name), \(animal.sex), \(animal.age)&quot;)</div><div class="line">&#125;</div><div class="line">// 输出：&quot;I like sheep, it&apos;s a cool animal&quot;</div></pre></td></tr></table></figure></p>
<p>在 <code>case</code> 中还可以使用 <code>where</code> 子句，结合值绑定，Swift 中 <code>switch</code> 语句的表达力和功能已经远超过 Objective-C 的 <code>switch</code> 语句了：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">let indexSizeAndValue = (5, 6, &quot;&quot;)</div><div class="line"></div><div class="line">switch indexSizeAndValue &#123;</div><div class="line">case (0, _ , let value):</div><div class="line">    println(&quot;The first value is \(value)&quot;)</div><div class="line">case let (index, size, &quot;&quot;) where index == (size - 1):</div><div class="line">    println(&quot;The last value is empty&quot;)</div><div class="line">case let (index, size, value) where index == (size - 1):</div><div class="line">    println(&quot;The last value is \(value)&quot;)</div><div class="line">case let (index, _, value):</div><div class="line">    println(&quot;The value at index \(index) is \(value)&quot;)</div><div class="line">&#125;</div><div class="line">// 输出：&quot;The last value is empty&quot;</div></pre></td></tr></table></figure></p>
<p>这段代码没有 <code>default</code> 语句因为最后一个 <code>case</code> 已经包含了所有剩下的情况。</p>
<h3 id="注"><a href="#注" class="headerlink" title="注"></a>注</h3><ul>
<li>Swift 2 已经发布正式版<h3 id="版权声明"><a href="#版权声明" class="headerlink" title="版权声明"></a>版权声明</h3><img src="http://7xkkiq.com1.z0.glb.clouddn.com/Swift-for-the-really-impatient.jpg" alt=""></li>
</ul>
<p>本文多数内容与思路来源于《 Swift for the Really Impatient 》，原作者为 [美] Matt Henderson 和 Dave Wood。如有侵权，请及时联系笔者删除。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/07/23/make-a-blog-with-ghost/" rel="next" title="使用 Ghost 搭建博客">
                <i class="fa fa-chevron-left"></i> 使用 Ghost 搭建博客
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/09/09/ios-proximity-state-bug-and-solution/" rel="prev" title="iPhone 接近感应器的坑及解决方案">
                iPhone 接近感应器的坑及解决方案 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://7xkkiq.com1.z0.glb.clouddn.com/avatar.jpg"
                alt="imzyliu" />
            
              <p class="site-author-name" itemprop="name">imzyliu</p>
              <p class="site-description motion-element" itemprop="description">这是我年久失修的博客..</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/tzuyangliu" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-globe"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://weibo.com/3026422681" target="_blank" title="Weibo">
                    
                      <i class="fa fa-fw fa-globe"></i>Weibo</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://suta.im/" title="Suta" target="_blank">Suta</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://dd.bingyan.net/" title="D&N" target="_blank">D&N</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://blog.callmewhy.com/" title="CallMeWhy" target="_blank">CallMeWhy</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://ios.dog/" title="Boolean93" target="_blank">Boolean93</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://blog.luckymore.wang/" title="Luckymore" target="_blank">Luckymore</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.bingyan.net/" title="Bingyan Studio" target="_blank">Bingyan Studio</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#第1章-Swift-介绍"><span class="nav-number">1.</span> <span class="nav-text">第1章 Swift 介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-基本语法"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 基本语法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-1-变量和常量"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1.1 变量和常量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-2-字符串插值"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.1.2 字符串插值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-3-流程控制"><span class="nav-number">1.1.3.</span> <span class="nav-text">1.1.3 流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#条件语句"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">条件语句</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#循环语句"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">循环语句</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-基本数据类型"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 基本数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-1-整型"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.2.1 整型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-2-Double-和-Float"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.2.2 Double 和 Float</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-3-布尔型"><span class="nav-number">1.2.3.</span> <span class="nav-text">1.2.3 布尔型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-4-字符串"><span class="nav-number">1.2.4.</span> <span class="nav-text">1.2.4 字符串</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-5-数组"><span class="nav-number">1.2.5.</span> <span class="nav-text">1.2.5 数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-6-字典"><span class="nav-number">1.2.6.</span> <span class="nav-text">1.2.6 字典</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第二章-深入学习-Swift-语法"><span class="nav-number">2.</span> <span class="nav-text">第二章 深入学习 Swift 语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-可空类型"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 可空类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-泛型"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 泛型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-类型声明和类型推断"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 类型声明和类型推断</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-函数和闭包"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 函数和闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-1-全局函数"><span class="nav-number">2.4.1.</span> <span class="nav-text">2.4.1 全局函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-2-嵌套函数"><span class="nav-number">2.4.2.</span> <span class="nav-text">2.4.2 嵌套函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-3-闭包表达式"><span class="nav-number">2.4.3.</span> <span class="nav-text">2.4.3 闭包表达式</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-元组"><span class="nav-number">2.5.</span> <span class="nav-text">2.5 元组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-6-switch-语句和模式匹配"><span class="nav-number">2.6.</span> <span class="nav-text">2.6 switch 语句和模式匹配</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注"><span class="nav-number">3.</span> <span class="nav-text">注</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#版权声明"><span class="nav-number">4.</span> <span class="nav-text">版权声明</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">imzyliu</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://zyliu.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://tzuyangliu.github.io/2015/08/07/swift-for-the-really-impatient-note/';
          this.page.identifier = '2015/08/07/swift-for-the-really-impatient-note/';
          this.page.title = 'Swift 学习笔记';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://zyliu.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  










  





  

  

  

  

  

  

</body>
</html>
